<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ site.title }} - {{ site.domain }}</title>
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const domains = document.querySelectorAll('.expires');
            domains.forEach(function(domain) {
                const regDate = new Date(domain.getAttribute('data-reg-date'));
                const expiryDate = new Date(regDate.setFullYear(regDate.getFullYear() + 1));
                const today = new Date();
                const remainingDays = Math.round((expiryDate - today) / (1000 * 60 * 60 * 24));
                domain.textContent = remainingDays > 0 ? remainingDays + ' days left' : 'Expired';
            });
        });
    </script>
</head>
<body>
    <header>
        <h3>{{ site.title }} {{ site.title_ext }}·{{ site.domain }}</h3>
        <p>联系方式： <a href="mailto:8327811@qq.com">{{ site.contacts[0].text }}</a> · {{ site.contacts[1].text }}</p>
    </header>

    <main>
        <ul id="followers-list">
            {%- for domain in site.domains -%}
            <li>
                <a href="#">
                    <strong>{{ domain.domain }}</strong>
                    <span>{{ domain.description }}</span>
                    <span class="expires" data-reg-date="{{ domain.registration_date }}">Calculating...</span>
                </a>
            </li>
            {%- endfor -%}
        </ul>
    </main>

    <footer>
        <p>© {{ "now" | date: "%Y" }} {{ site.domain }}. All rights reserved.</p>
    </footer>
</body>
</html>
