<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ site.title }} - {{ site.domain }}</title>
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const domains = document.querySelectorAll('.expires');
            domains.forEach(function(domain) {
                const regDate = new Date(domain.getAttribute('data-reg-date'));
                const expiryDate = new Date(regDate.setFullYear(regDate.getFullYear() + 1));
                const today = new Date();
                const remainingDays = Math.round((expiryDate - today) / (1000 * 60 * 60 * 24));
                domain.textContent = remainingDays > 0 ? remainingDays + ' days left' : 'Expired';
            });
        });
    </script>
</head>
<body>
    <header>
        <h3 class="page-head">
            <a href="/" class="logo">
                <img src="img/logo.png" alt="{{ site.title }}">
                <span class="ext">{{ site.title_ext }}</span><span class="dot">·</span><span class="brand">{{ site.domain }}</span>
            </a>
        </h3>
        <p style="text-align: center;">联系方式：
            <a href="mailto:8327811@qq.com"><i class="fa fa-envelope"></i> 8327811@qq.com</a> ·
            <i class="fa fa-qq"></i> 18677798881
        </p>
    </header>

    <main>
        <ul id="followers-list">
            {%- for domain in site.domains -%}
            <li>
                <a href="#">
                    <img src="https://eu.ui-avatars.com/api/?background=random&name={{ domain.domain | slice: 0 }}&font-size=0.6">
                    <strong>{{ domain.domain }}</strong>
                    <span>{{ domain.description }}</span>
                    <span class="expires" data-reg-date="{{ domain.registration_date }}">Calculating...</span>
                </a>
            </li>
            {%- endfor -%}
        </ul>
    </main>

    <footer class="footer bg-gray-200 flex items-center px-10 py-5 justify-between flex-col lg:flex-row">
        <div class="text-gray-500 text-sm text-center lg:text-left">
            © {{ "now" | date: "%Y" }} {{ site.domain }}. All rights reserved.
        </div>
    </footer>
</body>
</html>
